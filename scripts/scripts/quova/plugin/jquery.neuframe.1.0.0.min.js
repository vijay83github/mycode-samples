(function(e){e.fn.neuframe=function(t){var n={};var r=function(r){var s=e.extend({},e.fn.neuframe.defaults,t);var o,u,a;var f="dev";if(s.env&&(s.env=="local"||s.env=="dev"||s.env=="qa"||s.env=="stage"||s.env=="prod")){f=s.env;if(f=="prod"||f=="stage"){}}if(!s.appName.length){alert("appName is required.");return}if(!s.appName){alert("appName is invalid.");return}else{if(s.appName=="login"){a="login"}else if(s.appName=="registration"){a="registration"}else{alert("Invalid appName!")}}if(!s.productId.length){alert("productId is required.");return}o=n[f]+"/apps/"+a+"?CL="+s.productId+"&e=1&orig="+window.location.protocol+"//"+window.location.host;u=n[f];var l=e("<iframe />",{name:s.name,id:s.id,src:o,width:s.width,height:s.height,frameBorder:0}).appendTo(e(r).empty());jQuery.receiveMessage(function(e){var t=e.data?i(e.data):"";if(t.status=="init"){if(s.initCallback){s.initCallback({})}var n=function(){jQuery.postMessage({status:"init",cookies:s.cookies.data},o,l.get(0).contentWindow)};if(s.cookies){if(s.cookies.wait){setTimeout(n,s.cookies.wait)}else{n()}}}if(t.status=="success"&&s.successCallback){if(s.successCallback(t)){if(a=="login"){parent.location=decodeURIComponent(t.redirectUrl)}if(a=="registration"){parent.location=decodeURIComponent(t.redirectUrl)}}}if(t.status=="fail"&&s.failureCallback){s.failureCallback(t)}},u)};this.each(function(){r(this)});var i=function(e){var t={},n=e.replace(/^\?/,"").split("&"),r=n.length,i=0,s;for(;i<r;i++){if(!n[i]){continue}s=n[i].split("=");t[s[0]]=s[1]}return t}};e.fn.neuframe.defaults={name:"",id:"",width:"340px",height:"auto",appName:"",productId:"",initCallback:function(e){return true},successCallback:function(e){return true},failureCallback:function(e){return true}}})(jQuery);